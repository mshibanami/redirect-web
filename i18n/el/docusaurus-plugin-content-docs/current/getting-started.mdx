# Ξεκινώντας

Αυτή η σελίδα περιγράφει κοινές περιπτώσεις χρήσης για τη δημιουργία κανόνων στην εφαρμογή Redirect Web.

(Μπορείτε επίσης να μάθετε τις λεπτομέρειες των ρυθμίσεων κανόνα στη σελίδα [Ρυθμίσεις Κανόνα](./rule-settings).)


## Περίπτωση 1: Άνοιγμα άλλου ιστότοπου

Ας υποθέσουμε ότι είστε εθισμένοι στο Twitter, και αποφασίζετε να διαλογίζεστε στο Insight Timer όποτε ανοίγετε κατά λάθος το Twitter. Ας δημιουργήσουμε έναν κανόνα για αυτό!

### Βήμα 1. Ρύθμιση "Ανακατεύθυνση Από"

Πρώτα, θα πρέπει να ρυθμίσετε την ενότητα *Ανακατεύθυνση Από* στην οθόνη *Επεξεργασία Κανόνα* της εφαρμογής. Οι στόχοι είναι URL που ξεκινούν με `https://twitter.com/`.

Σε αυτή την περίπτωση, μπορείτε να καθορίσετε το ακόλουθο μοτίβο με τη λειτουργία [Μπαλαντέρ](rule-settings?id=wildcard):

```
https://twitter.com/*
```

Στη λειτουργία Μπαλαντέρ, το `*` σημαίνει ότι ταιριάζει με οτιδήποτε (= μηδέν ή περισσότερους χαρακτήρες).

Ωστόσο, περιμένετε. Το `twitter.com` μετονομάστηκε σε `x.com`. Μπορείτε απλά να αντικαταστήσετε το `twitter.com` με το `x.com`, αλλά κανείς δεν ξέρει πότε ο νέος ιδιοκτήτης θα αλλάξει γνώμη ξανά για να το επαναφέρει. Επομένως, ας στοχεύσουμε τόσο το `twitter.com` όσο και το `x.com`.

Για να το κάνετε αυτό, αλλάξτε από Μπαλαντέρ σε [Κανονική Έκφραση](rule-settings?id=regular-expression), και ορίστε αυτό ως μοτίβο:

```
https://(twitter|x).com/.*
```

* `(twitter|x)`: στοχεύει τόσο το `twitter` όσο και το `x`. (`|` ονομάζεται *κάθετη γραμμή*.)
* `.*`: Είναι το ίδιο με το `*` του Μπαλαντέρ. Πιο συγκεκριμένα, το `.` σημαίνει *οποιοσδήποτε χαρακτήρας* και το `*` σημαίνει *οτιδήποτε πριν από αυτό το σύμβολο επαναλαμβάνεται οποιονδήποτε αριθμό φορών*, με αποτέλεσμα να ταιριάζει με οτιδήποτε.

Η Κανονική Έκφραση είναι λίγο περίπλοκη, αλλά μόλις τη συνηθίσετε, θα είναι ένα ισχυρό εργαλείο. Σας συνιστούμε να χρησιμοποιήσετε το [RegExr](https://regexr.com) ως παιδική χαρά για να αναλύσετε πώς λειτουργεί το μοτίβο Κανονικής Έκφρασης.

> [!NOTE]
> Στις Κανονικές Εκφράσεις, το `.` στο `(twitter|x).com` αντιμετωπίζεται επίσης ως *οποιοσδήποτε χαρακτήρας*. Επομένως, το `(twitter|x).com/.*` ταιριάζει επίσης, για παράδειγμα, με το `twitter1com/` ή το `x_com/`.
> 
> Για να το αποφύγετε, μπορείτε να το αλλάξετε σε `(twitter|x)\.com/.*`. Το `\` χρησιμοποιείται για να αποφευχθεί ένας ειδικός χαρακτήρας.
>
> Ωστόσο, δεν υπάρχουν τέτοια URL στο γενικό περιβάλλον του διαδικτύου. Επομένως, μπορείτε να αφήσετε το `.` ως ειδικό χαρακτήρα αν προτιμάτε. Ο κανόνας σας είναι για δική σας χρήση, οπότε εφαρμόστε τον όπως κρίνετε σκόπιμο.

### Βήμα 2: Ρύθμιση "Ανακατεύθυνση Προς"

Απλά καθορίστε το URL ως εξής:

```
https://insighttimer.com/saraauster/guided-meditations/calm
```

Τώρα, το Redirect Web σας οδηγεί στον διαλογισμό όταν αποκτάτε πρόσβαση στο Twitter!

**[⬇️ Λήψη του Κανόνα](/rules/reduce-twitter-addiction.redirectweb)**

## Περίπτωση 2: Αφαίρεση Παραμέτρων Ερωτήματος από το URL

Ας υποθέσουμε ότι υπάρχει μια παράμετρος ερωτήματος `source=twitter` σε ένα URL του `example.com`, και αποφασίσατε να την αφαιρέσετε για να ανωνυμοποιηθείτε.

Σε αυτή την περίπτωση, η επιλογή **Επεξεργασία Ομάδας Καταγραφής** είναι ο ευκολότερος τρόπος:

* **Ανακατεύθυνση Από**: `https://example.com/*` (Μπαλαντέρ)
* **Ανακατεύθυνση Προς**: `$0`
* **Επεξεργασία Ομάδας Καταγραφής**:
    * **Ομάδα**: `$0`
    * **Διαδικασία**: Αντικατάσταση Εμφανίσεων
        * **Στόχος**: `&?source=[^&]*`
        * **Αντικατάσταση**: *(καμία)*
        * **Μοτίβο Κειμένου**: Κανονική Έκφραση

**[⬇️ Λήψη του Κανόνα](/rules/remove-parameters.redirectweb)**

Αυτός ο κανόνας λειτουργεί ως εξής:

```
https://example.com/?source=twitter
↪ https://example.com/?

https://example.com/?hello=world&source=twitter&foo=bar
↪ https://example.com/?hello=world&foo=bar
```

Αν θέλετε να αφαιρέσετε περισσότερες παραμέτρους, προσθέστε περισσότερες διαδικασίες.

## Περίπτωση 3: Προσθήκη Παραμέτρων Ερωτήματος στο URL

Ας πούμε ότι υπάρχει ένας ιστότοπος που ονομάζεται `example.com` ο οποίος εμφανίζει από προεπιλογή μια διάταξη για κινητά, αλλά εσείς προτιμάτε τη διάταξη για επιτραπέζιους υπολογιστές. Ευτυχώς, ο ιστότοπος υποστηρίζει μια παράμετρο ερωτήματος `layout` για να καθορίσει ποια διάταξη εμφανίζει ο ιστότοπος. Ας δημιουργήσουμε έναν κανόνα που προσθέτει αυτόματα το `layout=desktop`.

Ίσως σκέφτεστε ότι θα μπορούσατε να το ορίσετε ως εξής:

* **Ανακατεύθυνση Από**: `https://example.com/.*` (Κανονική Έκφραση)
* **Ανακατεύθυνση Προς**: `$0?layout=desktop`

Το `$0` αναφέρεται στο URL στόχο. Αν προσπαθήσετε να αποκτήσετε πρόσβαση στο `example.com/hello`, ανακατευθύνεστε στο `example.com/hello?layout=desktop`. Αυτή η δυνατότητα ονομάζεται *υποκατάσταση*.

> [!TIP]
> Η υποκατάσταση είναι επίσης διαθέσιμη για τη λειτουργία Μπαλαντέρ, καθώς μετατρέπεται εσωτερικά σε Κανονική Έκφραση.

Ωστόσο, υπάρχουν μερικά προβλήματα με αυτές τις ρυθμίσεις.

### Πρόβλημα 1: Ατελείωτος βρόχος

Η τρέχουσα ρύθμιση δημιουργεί έναν ατελείωτο βρόχο ανακατεύθυνσης, καθώς το `https://example.com/.*` στοχεύει επίσης το `https://example.com/hello?layout=desktop`.

Σε αυτή την περίπτωση, μπορείτε να καθορίσετε ένα μοτίβο αποκλειόμενης διεύθυνσης URL που σας επιτρέπει την πρόσβαση χωρίς ανακατεύθυνση, όπως αυτό με Κανονική Έκφραση:

```
.*[&?]layout=[^&]*.*
```

* `.*`: Ταιριάζει με οτιδήποτε
* `[&?]`: Ταιριάζει είτε με `&` είτε με `?`
* `[^&]*`: Ταιριάζει με οτιδήποτε εκτός από `&`

### Πρόβλημα 2: Δεν μπορεί να χειριστεί σωστά τις υπάρχουσες παραμέτρους

Αν το URL στόχο έχει ήδη άλλες παραμέτρους ερωτήματος όπως `example.com/hello?theme=dark`, ο προορισμός θα είναι `example.com/hello?theme=dark?layout=desktop` (Υπάρχουν δύο `?` στο URL), αλλά μπορείτε να ενώσετε τις παραμέτρους μόνο με `&`. Το `?` ως ειδικός χαρακτήρας επιτρέπεται μόνο στην αρχή των παραμέτρων. Επομένως, δεν αντιμετωπίζεται ως έγκυρη παράμετρος.

Σε αυτή την περίπτωση, αλλάξτε τις ρυθμίσεις ως εξής:

* **Ανακατεύθυνση Από**: `(https://example.com/[^?]*)(\?(.*))?`
* **Ανακατεύθυνση Προς**: `$1?layout=desktop&$3`

Ας το δούμε βήμα προς βήμα.

* `(https://example.com/[^?]*)`: Ταιριάζει με το μέρος μέχρι τον προηγούμενο χαρακτήρα του `?`.
    * Το `[^?]*` ταιριάζει με οτιδήποτε εκτός από το `?`.
    * Αυτό είναι τυλιγμένο με `()` ώστε να μπορείτε να αναφερθείτε σε αυτό με το `$1` αργότερα.
* `(\?(.*))?`: Ταιριάζει με μια συμβολοσειρά που ξεκινά με `?`, που σημαίνει παραμέτρους ερωτήματος.
    * Αυτό ταιριάζει επίσης με κενή συμβολοσειρά από τον ποσοδείκτη `?` στο τέλος του μοτίβου, ο οποίος *ταιριάζει μηδέν ή μία φορά*.
    * Τα εξωτερικά `()` και τα εσωτερικά `()` μπορούν να αναφερθούν με τα `$2` και `$3` αργότερα.

Το [RegExr](https://regexr.com) μπορεί να σας βοηθήσει να κατανοήσετε τις λεπτομέρειες.

> [!NOTE]
> Το RegExr εμφανίζει σφάλμα όταν δεν αποφεύγετε το `/` με `\`. Αν και μπορείτε να το αποφύγετε, δεν είναι απαραίτητο, καθώς το Redirect Web χρησιμοποιεί μια διαφορετική μηχανή της Apple που δεν απαιτεί αποφυγή.

Αυτή δεν είναι μια τέλεια λύση, καθώς ανακατευθύνει το `example.com/hello` σε `example.com/hello?layout=desktop&`, το οποίο περιλαμβάνει ένα περιττό `&` στο τέλος του URL. Γενικά δεν είναι μεγάλο πρόβλημα, αλλά αν επιθυμείτε να το αφαιρέσετε, μπορείτε να χρησιμοποιήσετε την *Επεξεργασία Ομάδας Καταγραφής*.

Εν κατακλείδι, αυτό είναι το τελικό αποτέλεσμα:

* **Ανακατεύθυνση Από**: `(https://example.com/[^?]*)((\?(.*))?)` (Κανονική Έκφραση)
* **Ανακατεύθυνση Προς**: `$1?layout=desktop$3`
* **Μοτίβο Αποκλειόμενης Διεύθυνσης URL**: `.*[&?]layout=[^&]*.*` (Κανονική Έκφραση)
* **Επεξεργασία Ομάδας Καταγραφής**:
    * **Ομάδα**: `$3`
    * **Διαδικασία**: Αντικατάσταση Εμφανίσεων
        * **Στόχος**: `\?(.*)`
        * **Αντικατάσταση**: `&$1`

**[⬇️ Λήψη του Κανόνα](/rules/add-parameters.redirectweb)**

Αυτό είναι απλώς ένα παράδειγμα. Μπορείτε επίσης να δημιουργήσετε πολλούς κανόνες για να αντιμετωπίσετε κάθε πρόβλημα. Μπορεί να είναι πολύ πιο απλό.
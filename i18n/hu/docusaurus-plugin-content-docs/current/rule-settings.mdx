# Szabálybeállítások

Ez az oldal részletes információkat nyújt a Redirect Web alkalmazás Szabály szerkesztése képernyőjén található összes beállításról.

## Opciók

### Típus

Adja meg a **Típus** opciót, hogy szabályozza, hogyan kezeli az alkalmazás az átirányítást. Ezek közül választhat:

*   **Eredeti** (Alapértelmezett)
    *   Ez a hagyományos webes API-kat használja az átirányítás vezérlésére. Emellett [a Tabs API-t](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs) is használja tartalék megoldásként.
        *   Firefoxban a [WebRequest API-t](https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/webRequest) használja az átirányítás kezelésére.
    *   Az [Erőforrástípusok](#resource-types) és [Kérelemmetódusok](#request-methods) kivételével minden opciót használhat.
    *   Ez lassabb, mint a *Deklaratív* típus, és extra hálózati kéréseket okozhat.
*   **DNR** (Kísérleti Safarihoz):
    *   Ez a típus sokkal gyorsabban működik, mint az Eredeti típus, mert nem indít hálózati kérést a forrás URL-hez.
    *   Ez lehetővé teszi [Erőforrástípusok](#resource-types) és [Kérelemmetódusok](#request-methods) megadását.
    *   ⚠️ Néhány opciót nem használhat, például a [Rögzítő csoport feldolgozása](#capturing-group-processing) és a [Kizárt URL minták](#excluded-url-patterns) opciókat, mivel azokat a DNR API még nem támogatja.
    *   ⚠️ Safariban jelenleg nem tartalmazhat pipe (`|`) karaktert a reguláris kifejezés mintájában. [Részletek](https://github.com/mshibanami/redirect-web/issues/44)
    *   ⚠️ Mivel a Safari DNR API-ja még mindig rendelkezik néhány hibával, úgy gondoljuk, hogy Safariban ez még egy kísérleti funkció. Az ismert problémák listáját [itt](https://github.com/mshibanami/redirect-web/issues?q=state%3Aopen%20label%3ADNR%20label%3ASafari) találja.

### Átirányítás innen

Az **Átirányítás innen** opció lehetővé teszi az átirányítani kívánt weboldalak URL mintájának megadását. Választhat [Helyettesítő karakteres](#wildcard) vagy [Reguláris kifejezéses](#regular-expression) típus közül.

Például, ha a `https://example.com/*` mintát adja meg helyettesítő karakterrel, az illeszkedik a `https://example.com/` vagy a `https://example.com/hello` címre.

> [!NOTE]
> Az Átirányítás ide opcióban az egész egyezésre a `$0`, részleges egyezésekre pedig a `$1`, `$2`, ... hivatkozhat. Nézze meg a részleteket az [URL Minta](#url-pattern) részen ezen az oldalon.

#### Erőforrástípusok

![Supported Types: DNR](https://img.shields.io/badge/Types-DNR-blue)

Az **Erőforrástípusok** opció lehetővé teszi a webes kérések kategóriáinak, például képek, JavaScript fájlok és stíluslapok megadását, amelyekre a szabály vonatkozik.
Például, ha a `script` értéket állítja be, átirányíthatja a weboldalak által betöltött JavaScript fájlokat.

Jelenleg ezek állnak rendelkezésre:
`main_frame`, `sub_frame`, `stylesheet`, `script`, `image`, `font`, `xmlhttprequest`, `ping`, `media`, `websocket`, `other`

Az alapértelmezett beállítás a `main_frame`, ami a lapba betöltött legfelső szintű oldal.

Kérjük, ellenőrizze az egyes erőforrástípusok részleteit az [mdn web docs](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest/ResourceType) oldalon.

#### Kérelemmetódusok

![Supported Types: DNR](https://img.shields.io/badge/Types-DNR-blue)

A **Kérelemmetódusok** opció lehetővé teszi a forrás URL cél HTTP metódusainak beállítását.

Alapértelmezés szerint minden metódus be van állítva.

Kérjük, ellenőrizze az egyes metódusok részleteit az [mdn web docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods) oldalon.

> [!WARNING]
> Safariban ez az opció valószínűleg nem elérhető, mert az Apple DNR típusú implementációja jelenleg nem kezeli azt. Visszajelzést küldtünk az Apple-nek FB14502272 számon.

#### Célböngészők

![Supported Platforms: macOS](https://img.shields.io/badge/Platforms-macOS-white)

A **Célböngészők** opció lehetővé teszi, hogy megadja, mely böngészőkre vonatkozzon vagy ne vonatkozzon a szabály.

*   Kétféle böngésző közül választhat:
    *   **Alapértelmezés szerint választható böngészők**: Alapértelmezés szerint választhatja a Safarit, Chrome-ot, Firefoxot, Edge-et, Operát, Arc-ot, Brave-et és Vivaldi-t. Ez nem különbözteti meg ugyanazon böngésző változatait, mint például a Safarit és a Safari Technology Preview-t.
    *   **Felhasználó által megadott böngészők**: A felugró ablak "Hozzáadás" gombjára koppintva kiválaszthat bármely olyan böngészőt (kivéve a Safarit vagy a Safari Technology Preview-t), amelyre telepítve van a Redirect Web bővítmény.
*   Az **Összes, kivéve a kiválasztottakat** jelölőnégyzet lehetővé teszi, hogy az összes böngészőt célozza, kivéve azokat, amelyeket kiválasztott.

> [!WARNING]
> A Redirect Web nem tudja megkülönböztetni, hogy a böngésző **Safari** vagy **Safari Technology Preview**, mert az alkalmazás a bővítmény szülőfolyamatát ellenőrzi a detektáláshoz, de ez a két böngésző ugyanazt a szülőfolyamatot (`/sbin/launchd`) használja.

### Átirányítás ide

Az **Átirányítás ide** opció megadja azt a cél URL-t, amelyre át szeretne irányítani a *Redirect From* opcióval egyező forrás URL-ről. Helyettesítheti a rögzítő csoportokat `$1`, `$2`, ... értékekkel, vagy a teljes egyezést `$0` értékkel. Ezek segítenek dinamikusan megadni a célt. Nézze meg a részleteket az [URL Minta](#url-pattern) részen ezen az oldalon.

Például, ha a következő szabályt állítja be:

*   **Átirányítás innen**: `https://google.com/*` (Helyettesítő karakteres)
*   **Átirányítás ide**: `https://apple.com/$1`

és ez illeszkedik a `https://google.com/hello` címre, akkor a cél URL a `https://apple.com/hello` lesz.

Ezenkívül módosíthatja a `$1`, `$2`, ... szövegeit a helyettesítés előtt. A részletekért lásd a [Rögzítő csoport feldolgozása](#capturing-group-processing) szakaszt.

> [!TIP]
> Megadhat egy egyéni URL sémát egy alkalmazás megnyitásához. Íme néhány példa olyan alkalmazásokra, amelyek támogatják a mélyhivatkozásokat:
>
> *   Figma: `figma://file/Your_Figma_ID`
> *   Firefox: `firefox://open-url?url=https://example.com/hello`
> *   Google Chrome: `googlechromes://example.com`
> *   Microsoft Edge: `microsoft-edge://example.com`
> *   Notion: `notion://www.notion.so/Your_Note_ID`
> *   Slack: `slack://open`

#### Alkalmazás

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue) ![Supported Platforms: macOS](https://img.shields.io/badge/Platforms-macOS-white)

Ha meg szeretné adni azt az alkalmazást, amellyel meg szeretné nyitni a cél URL-t, használja az **Alkalmazás** legördülő menüt. Ez csak macOS rendszeren érhető el.

> [!WARNING]
> Csak olyan alkalmazást nyithat meg, amely támogatja az [App Sandbox](https://developer.apple.com/documentation/security/app_sandbox) funkciót. Győződjön meg arról is, hogy az alkalmazás támogatja a megnyitni kívánt URL megnyitását.

### Rögzítő csoport feldolgozása

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue)

A **Rögzítő csoport feldolgozása** opció lehetővé teszi, hogy megadja, hogyan dolgozza fel azokat a rögzített csoportokat, amelyeket az *Átirányítás ide* opcióban `$1`, `$2`... értékekkel helyettesíthet.

A rögzítő csoportok létrehozásának módjai a következők:

*   **Helyettesítő karakter**: A `*` és `?` karakterekkel egyező szövegek automatikusan rögzítésre kerülnek.
*   **Reguláris kifejezés**: A minta `()` belsejében lévő részével egyező szövegek rögzítésre kerülnek.

Választhat egyet vagy többet a következő folyamatok közül:

*   **URL kódolás/dekódolás**: Ez [százalékos kódolást](https://en.wikipedia.org/wiki/Percent-encoding) vagy dekódolást alkalmaz egy rögzítő csoportra. Például, ha a `https://example.com/hello` címet kódolja, az `https%3A%2F%2Fexample.com%2Fhello` lesz. A dekódolás fordítva működik.
*   **Base64 kódolás/dekódolás**: Ez egy szöveget [Base64](https://en.wikipedia.org/wiki/Base64) formátumba kódol/dekódol. Például a `hello` kódolható `aGVsbG8=` formátumba, és dekódolható vissza `hello` formátumba.
*   **Előfordulások cseréje**: Ez egy vagy több karaktert cserél egy csoportban, egy **Cél** által egyező karaktert egy **Helyettesítéssel**. Például, ha a *Csoport* `hello`, a *Cél* `l`, és a Helyettesítés `y`, akkor az `heyyo`-ra módosul.

> [!NOTE]
> Ez az egyes rögzítő csoportok feldolgozására szolgál, és nem befolyásolja, hogy mely URL-ek vannak kizárva a [Kizárt URL minták](#excluded-url-patterns) által. Például, tegyük fel, hogy van ez a szabály:
>
> *   **Átirányítás innen**: `https://example.com/(hello.*)`
> *   **Rögzítő csoport feldolgozása**:
>     *   Csoport: `$1`
>     *   Cél: `.*` (Reguláris kifejezés)
>     *   Helyettesítés: `hello`
> *   **Kizárt URL minta**: `https://example.com/hello`
>
> Ebben az esetben a `https://example.com/hello_world` nem lesz kizárva, míg a `https://example.com/hello` igen.

### Kizárt URL minták

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue)

A **Kizárt URL minták** opció lehetővé teszi, hogy megadja azokat az URL-eket, amelyek nem kerülnek átirányításra. Ez hasznos lehet az átirányítási hurkok elkerülésére, vagy egy weboldal bizonyos részeinek kizárására az átirányításból.

A kizárt URL mintákat reguláris kifejezéssel vagy helyettesítő karakteres mintatípusokkal adhatja meg.

### Példák

A **Példák** opció lehetővé teszi, hogy tesztelje az átirányítási szabályát mintavételi URL-ek megadásával. Egy mintavételi URL hozzáadásával ellenőrizheti, hogy a szabály a vártnak megfelelően működik-e, mielőtt ténylegesen alkalmazná.

### Megjegyzések

A **Megjegyzések** opció lehetővé teszi, hogy bármilyen feljegyzést vagy megjegyzést fűzzön az átirányítási szabályához. Ez hasznos lehet annak nyomon követésére, hogy miért hozott létre egy adott szabályt, vagy kontextust biztosíthat mások számára, akik megtekinthetik a szabályait.

## URL Minta

Három opció van, ahol egy vagy több URL mintát adhat meg. Ezek a *Redirect From* (Átirányítás innen), *Excluded URL Patterns* (Kizárt URL minták) és *Capturing Group Processing* (Rögzítő csoport feldolgozása). Ezek megadásához választhatja a **Helyettesítő karakteres** vagy a **Reguláris kifejezéses** módot.

### Helyettesítő karakteres

A **Helyettesítő karakteres** egy egyszerűbb mintatípus, amely lehetővé teszi a `*` (bármit illeszt) és `?` (bármely egyetlen karaktert illeszt) használatát helyettesítő karakterként. Íme néhány példa:

*   A `https://example.com/hello` illesztéséhez használhatja a `https://example.com/*` mintát. Ez illeszkedni fog minden, a `https://example.com/` utáni karakterláncra.
*   A `https://example.com/search?q=hello` illesztéséhez használhatja a `https://example.com/search?q=*` mintát. Ez illeszkedni fog a `q` paraméter bármely értékére.
*   Bármely olyan URL illesztéséhez, amely tartalmazza a `blog` szót, használhatja a `*blog*` mintát.

Helyettesítést is használhat helyettesítő karakterekkel, ami azt jelenti, hogy a matched URL részeire `$1`, `$2`, stb. hivatkozhat. Például, ha a `https://example.com/*-world-*` mintát használja, és az URL `https://example.com/hello-world-goodbye`, akkor `$1` "hello" lenne, `$2` pedig "goodbye". `$0` is elérhető a teljes egyező URL-re való hivatkozáshoz.

> [!Note]
> Bár a helyettesítés a Reguláris kifejezés funkciója, helyettesítő karakterekkel is használhatja, mert a Redirect Web belsőleg átalakítja a helyettesítő karaktereket reguláris kifejezésekké.

### Reguláris kifejezés

A **Reguláris kifejezés** (Regex) egy hatékony eszköz a szövegben található minták illesztésére, az Apple reguláris kifejezés motorja működteti, amelyet [itt](https://developer.apple.com/documentation/foundation/nsregularexpression#1661042) írnak le. Lehetővé teszi egy olyan specifikus minta definiálását, amely egy karakterlánckészletre illeszkedik. Íme néhány példa.

-   A `https://example.com/hello` illesztéséhez használhatja a `https://example.com/(.*)` mintát. Ez illeszkedni fog minden, a `https://example.com/` utáni karakterláncra, és egy rögzítő csoportba tárolja azt.
-   A `https://example.com/search?q=hello` illesztéséhez használhatja a `https://example.com/search\?q=(.*)` mintát. Ez illeszkedni fog a `q` paraméter értékére, és egy rögzítő csoportba tárolja azt.
-   Bármely olyan URL illesztéséhez, amely tartalmazza a `blog` szót, használhatja a `.*blog.*` mintát.

Hivatkozhat a rögzítő csoportokra az *Átirányítás ide* vagy *Helyettesítés* opciókban `$1`, `$2`, ... értékekkel, vagy `$0` értékkel a teljes egyezésre való hivatkozáshoz.

További információ a Regex szintaxisról olyan forrásokban található, mint a [RegExr](https://regexr.com/).
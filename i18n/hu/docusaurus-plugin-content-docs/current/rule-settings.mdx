# Szabálybeállítások

Ez az oldal részletes információkat nyújt a Redirect Web alkalmazás Szerkesztési szabály képernyőjének minden egyes beállításáról.

## Opciók

### Típus {#type}

Adja meg a **Típus** opciót, hogy szabályozza, hogyan kezeli az alkalmazás az átirányítást. A következőkből választhat:

*   **Eredeti** (Alapértelmezett)
    *   Ez hagyományos webes API-kat használ az átirányítás vezérlésére. Emellett a [Tabs API-t](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs) használja tartalékként.
        *   Firefoxban a [WebRequest API-t](https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/webRequest) használja az átirányítás kezelésére.
    *   Az összes opciót használhatja, kivéve az [Erőforrástípusokat](#resource-types) és a [Kérésmódokat](#request-methods).
    *   Ez lassabb, mint a *Deklaratív* típus, és extra hálózati kéréseket okozhat.
*   **DNR** (Kísérleti Safarihoz):
    *   Ez a típus sokkal gyorsabban működik, mint az Eredeti típus, mert nem kezdeményez hálózati kérést a forrás URL-hez.
    *   Ez lehetővé teszi az [Erőforrástípusok](#resource-types) és a [Kérésmódok](#request-methods) megadását.
    *   ⚠️ Néhány opciót, például a [Rögzítőcsoport-feldolgozást](#capturing-group-processing) és a [Kizárt URL-mintákat](#excluded-url-patterns) nem használhatja, mivel ezeket a DNR API még nem támogatja.
    *   ⚠️ Safariban jelenleg nem szerepeltethet csöveket (`|`) a reguláris kifejezés mintájában. [Részletek](https://github.com/mshibanami/redirect-web/issues/44)
    *   ⚠️ Mivel a Safari DNR API-jának még vannak problémái, ezt még kísérleti funkciónak tekintjük a Safari számára. Az összes ismert probléma listáját [itt](https://github.com/mshibanami/redirect-web/issues?q=state%3Aopen%20label%3ADNR%20label%3ASafari) találja.

### Átirányítás innen {#redirect-from}

Az **Átirányítás innen** opció lehetővé teszi, hogy megadja azoknak a weboldalaknak az URL-mintáját, ahonnan átirányítani szeretne. Választhat [Helyettesítő karaktert](#wildcard) vagy [Reguláris kifejezést](#regular-expression).

Például, ha `https://example.com/*` értéket ad meg helyettesítő karakterrel, az illeszkedik a `https://example.com/` vagy a `https://example.com/hello` címre.

> [!NOTE]
> Az Átirányítás ide opcióban hivatkozhat a teljes egyezésre a `$0` használatával, vagy részleges egyezésekre a `$1`, `$2`, ... használatával. Részleteket lásd az [URL-minta](#url-pattern) részben ezen az oldalon.

#### Erőforrástípusok {#resource-types}

![Támogatott típusok: DNR](https://img.shields.io/badge/Types-DNR-blue)

Az **Erőforrástípusok** opció lehetővé teszi a webes kérések kategóriáinak megadását, például képek, JavaScript-ek és stíluslapok, amelyekre a szabály vonatkozik.
Például, ha `script` értéket állít be, átirányíthatja a weboldalak által betöltött JavaScript fájlokat.

Jelenleg ezek érhetők el: 
`main_frame`, `sub_frame`, `stylesheet`, `script`, `image`, `font`, `xmlhttprequest`, `ping`, `media`, `websocket`, `other`

Az alapértelmezett beállítás a `main_frame`, amely a lapba betöltött legfelső szintű oldal.

Kérjük, ellenőrizze az egyes erőforrástípusok részleteit az [mdn web docs](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest/ResourceType) oldalon.

#### Kérésmódok {#request-methods}

![Támogatott típusok: DNR](https://img.shields.io/badge/Types-DNR-blue)

A **Kérésmódok** opció lehetővé teszi a forrás URL cél HTTP metódusainak beállítását.

Alapértelmezetten minden metódus be van állítva.

Kérjük, ellenőrizze az egyes metódusok részleteit az [mdn web docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods) oldalon.

> [!WARNING]
> Safariban ez az opció nem biztos, hogy elérhető, mert az Apple DNR típusú implementációja jelenleg nem kezeli. Visszajelzést küldtünk az Apple-nek FB14502272 néven.

#### Célböngészők {#target-browsers}

![Támogatott platformok: macOS](https://img.shields.io/badge/Platforms-macOS-white)

A **Célböngészők** opció lehetővé teszi, hogy megadja, mely böngészőkre kell vagy nem kell alkalmazni a szabályt.

*   2 típusú böngésző közül választhat:
    *   **Alapértelmezetten választható böngészők**: Alapértelmezetten választhatja a Safarit, a Chrome-ot, a Firefoxot, az Edge-et, az Operát, az Arc-ot, a Brave-et és a Vivaldit. Ez nem különbözteti meg ugyanazon böngésző változatait, például a Safarit és a Safari Technology Preview-t.
    *   **Felhasználó által megadott böngészők**: A felugró ablakon az Hozzáadás gombra koppintva kiválaszthat bármely böngészőt a Safari vagy a Safari Technology Preview kivételével, amelyen telepítve van a Redirect Web kiterjesztés.
*   Az **Összes kivéve a kiválasztottat** jelölőnégyzet lehetővé teszi, hogy minden böngészőt megcélozzon, kivéve azokat, amelyeket kiválasztott.

> [!WARNING]
> A Redirect Web nem tudja megkülönböztetni, hogy a böngésző **Safari** vagy **Safari Technology Preview**, mert az alkalmazás az kiterjesztés szülőfolyamatát ellenőrzi annak észleléséhez, de ez a két böngésző ugyanazt a szülőfolyamatot (`/sbin/launchd`) használja.

### Átirányítás ide {#redirect-to}

Az **Átirányítás ide** opció megadja azt a cél URL-t, amelyre átirányítani szeretne a *Redirect From* opcióval egyező forrás URL-ről. Helyettesítheti a rögzítő csoportokat `$1`, `$2`, ... vagy a teljes egyezést `$0` értékkel. Ezek segítenek dinamikusan megadni a célt. Részleteket lásd az [URL-minta](#url-pattern) részben ezen az oldalon.

Például, ha a következő szabályt állítja be:

*   **Átirányítás innen**: `https://google.com/*` (Helyettesítő karakter)
*   **Átirányítás ide**: `https://apple.com/$1`

és ez illeszkedik a `https://google.com/hello` címre, akkor a cél URL `https://apple.com/hello` lesz.

Ezenkívül módosíthatja a `$1`, `$2`, ... szövegeit a helyettesítések előtt. Részletekért lásd a [Rögzítőcsoport-feldolgozás](#capturing-group-processing) szakaszt.

> [!TIP]
> Egyéni URL-sémát adhat meg egy alkalmazás megnyitásához. Íme néhány példa az alkalmazásokra, amelyek támogatják a mélylinkelést:
>
> *   Figma: `figma://file/Your_Figma_ID`
> *   Firefox: `firefox://open-url?url=https://example.com/hello`
> *   Google Chrome: `googlechromes://example.com`
> *   Microsoft Edge: `microsoft-edge://example.com`
> *   Notion: `notion://www.notion.so/Your_Note_ID`
> *   Slack: `slack://open`

#### Alkalmazás {#application}

![Támogatott típusok: Eredeti](https://img.shields.io/badge/Types-Original-blue) ![Támogatott platformok: macOS](https://img.shields.io/badge/Platforms-macOS-white)

Ha meg szeretné adni azt az alkalmazást, amellyel meg szeretné nyitni a cél URL-t, használja az **Alkalmazás** legördülő menüt. Ez csak macOS rendszeren érhető el.

> [!WARNING]
> Csak olyan alkalmazást nyithat meg, amely támogatja az [App Sandboxot](https://developer.apple.com/documentation/security/app_sandbox). Győződjön meg arról is, hogy az alkalmazás támogatja a megnyitni kívánt URL megnyitását.

### Rögzítőcsoport-feldolgozás {#capturing-group-processing}

![Támogatott típusok: Eredeti](https://img.shields.io/badge/Types-Original-blue)

A **Rögzítőcsoport-feldolgozás** opció lehetővé teszi, hogy megadja, hogyan dolgozza fel a rögzített csoportokat, amelyeket a *Redirect To* opcióban `$1`, `$2`... értékkel helyettesíthet.

Így hozhat létre rögzítő csoportokat:

*   **Helyettesítő karakter**: A `*` és `?` karakterekkel egyező szövegek automatikusan rögzítésre kerülnek.
*   **Reguláris kifejezés**: A minta `()` belsejében lévő részével egyező szövegek rögzítésre kerülnek.

Választhat egyet vagy többet a következő folyamatok közül:

*   **URL kódolás/dekódolás**: Ez [százalékos kódolást](https://en.wikipedia.org/wiki/Percent-encoding) vagy dekódolást alkalmaz egy rögzítő csoportra. Például, ha kódolja a `https://example.com/hello` címet, az `https%3A%2F%2Fexample.com%2Fhello` lesz. A dekódolás fordítva működik.
*   **Base64 kódolás/dekódolás**: Ez egy szöveget [Base64](https://en.wikipedia.org/wiki/Base64) formátumba kódol/dekódol. Például, a `hello` kódolható `aGVsbG8=` értékre, és visszafejthető `hello` értékre.
*   **Előfordulások cseréje**: Ez egy vagy több karaktert cserél egy csoportban, amelyet egy **Cél** egyeztet, egy **Csere** értékkel. Például, ha a *Csoport* `hello`, a *Cél* `l`, és a Csere `y`, akkor `heyyo` lesz belőle.

> [!NOTE]
> Ez az egyes rögzítő csoportok feldolgozására szolgál, és nem befolyásolja, hogy mely URL-eket zárják ki a [Kizárt URL-minták](#excluded-url-patterns). Például, tegyük fel, hogy van ez a szabály:
>
> *   **Átirányítás innen**: `https://example.com/(hello.*)`
> *   **Rögzítőcsoport-feldolgozás**: 
>     *   Csoport: `$1`
>     *   Cél: `.*` (Reguláris kifejezés)
>     *   Csere: `hello`
> *   **Kizárt URL-minta**: `https://example.com/hello`
>
> Ebben az esetben a `https://example.com/hello_world` nem lesz kizárva, míg a `https://example.com/hello` igen.

### Kizárt URL-minták {#excluded-url-patterns}

![Támogatott típusok: Eredeti](https://img.shields.io/badge/Types-Original-blue)

A **Kizárt URL-minták** opció lehetővé teszi, hogy megadja azokat az URL-eket, amelyek nem kerülnek átirányításra. Ez hasznos lehet az átirányítási hurkok elkerülésére, vagy egy weboldal bizonyos részeinek kizárására az átirányításból.

A kizárt URL-mintákat megadhatja reguláris kifejezés vagy helyettesítő karakteres mintatípusok használatával.

### Példák {#examples}

A **Példák** opció lehetővé teszi, hogy tesztelje az átirányítási szabályát mintavételi URL-ek megadásával. Egy mintavételi URL hozzáadásával ellenőrizheti, hogy a szabály a várt módon működik-e, mielőtt ténylegesen alkalmazná.

### Megjegyzések {#comments}

A **Megjegyzések** opció lehetővé teszi, hogy jegyzeteket vagy megjegyzéseket fűzzön az átirányítási szabályához. Ez hasznos lehet annak nyomon követésére, hogy miért hozott létre egy adott szabályt, vagy kontextust biztosíthat mások számára, akik megtekinthetik a szabályait.

A megjegyzéseket a következő formátumokban írhatja:

*   **Egyszerű szöveg** (Alapértelmezett): Egyszerű szöveg formázás nélkül.
*   **Markdown**: Használhatja a [GitHub Markdown szintaxisát](https://docs.github.com/en/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax), beleértve néhány olyan kiterjesztést is, amelyet a GFM nem támogat. Például létrehozhat címsorokat, listákat, linkeket és még sok mást.
*   **AsciiDoc**: Használhatja az [AsciiDoc szintaxisát](https://asciidoc.org/) a megjegyzések formázásához.

## URL-minta {#url-pattern}

Az **URL-minták** az URL-ek egyeztetésére szolgálnak az *Átirányítás innen*, *Kizárt URL-minták* és *Rögzítőcsoport-feldolgozás* opciókban. Ezek megadásához választhat **Helyettesítő karaktert** vagy **Reguláris kifejezést**.

### Helyettesítő karakter {#url-pattern-wildcard}

A **Helyettesítő karakter** egy egyszerűbb mintatípus, amely lehetővé teszi a `*` (bármit egyeztet) és `?` (bármely egyetlen karaktert egyeztet) használatát helyettesítő karakterként. Íme néhány példa:

*   A `https://example.com/hello` egyeztetéséhez használhatja a `https://example.com/*` címet. Ez bármilyen karakterláncot egyeztet a `https://example.com/` után.
*   A `https://example.com/search?q=hello` egyeztetéséhez használhatja a `https://example.com/search?q=*` címet. Ez bármilyen értéket egyeztet a `q` paraméterhez.
*   Bármely URL egyeztetéséhez, amely tartalmazza a `blog` szót, használhatja a `*blog*` címet.

Helyettesítést is használhat a helyettesítő karakterben, ami azt jelenti, hogy hivatkozhat az egyező URL részeire a `$1`, `$2` stb. használatával. Például, ha a `https://example.com/*-world-*` címet használja, és az URL `https://example.com/hello-world-goodbye`, akkor a `$1` "hello" lenne, a `$2` pedig "goodbye". A `$0` is elérhető a teljes egyező URL hivatkozására.

> [!NOTE]
> Bár a helyettesítés a reguláris kifejezés egyik jellemzője, helyettesítő karakterekhez is használhatja, mert a Redirect Web belsőleg átalakítja a helyettesítő karaktert reguláris kifejezéssé.

### Reguláris kifejezés {#url-pattern-regular-expression}

A **Reguláris kifejezés** (Regex) egy hatékony eszköz a szövegminták egyeztetésére, és széles körben használják a programozásban is. Lehetővé teszi egy adott minta definiálását, amely egy karakterlánc-halmazt egyeztet. Íme néhány példa.

-   A `https://example.com/hello` egyeztetéséhez használhatja a `https://example.com/.*` címet. Ez bármilyen karakterláncot egyeztet a `https://example.com/` után.
-   A `https://example.com/search?q=hello` egyeztetéséhez használhatja a `https://example.com/search\?q=(.*)` címet. Ez egyezteti a `q` paraméter értékét, és egy rögzítő csoportba tárolja. Ezután hivatkozhat rá a `$1` használatával az *Átirányítás ide* opcióban.
-   Bármely URL egyeztetéséhez, amely tartalmazza a `blog` szót, használhatja a `.*blog.*` címet.

Hivatkozhat a rögzítő csoportokra az *Átirányítás ide* vagy *Csere* opcióban a `$1`, `$2`, ... vagy `$0` használatával a teljes egyezésre való hivatkozáshoz.

A Redirect Web az [Apple Regex motorját](https://developer.apple.com/documentation/foundation/nsregularexpression#1661042) használja.

További információ a Regex szintaxisról olyan forrásokban található, mint a [RegExr](https://regexr.com/).
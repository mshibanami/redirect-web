# Regelinstellingen

Deze pagina biedt gedetailleerde informatie over elke instelling in het scherm Regel bewerken in de Redirect Web-app.

## Opties

### Type {#type}

Specificeer de optie **Type** om te bepalen hoe de app omgaat met omleidingen. U kunt kiezen uit deze:

*   **Origineel** (Standaard)
    *   Dit gebruikt traditionele Web API's om omleidingen te beheren. Daarnaast gebruikt het [de Tabs API](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs) als terugvaloptie.
        *   In Firefox gebruikt het de [WebRequest API](https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/webRequest) om omleidingen af te handelen.
    *   U kunt alle opties gebruiken, behalve [Brontypen](#resource-types) en [Verzoekmethoden](#request-methods).
    *   Dit is trager dan het *Declaratieve* type en kan extra netwerkverzoeken veroorzaken.
*   **DNR** (Experimenteel voor Safari):
    *   Dit type werkt veel sneller dan het Originele type omdat het geen netwerkverzoek initieert voor de bron-URL.
    *   Dit stelt u in staat om [Brontypen](#resource-types) en [Verzoekmethoden](#request-methods) te specificeren.
    *   ⚠️ U kunt sommige opties niet gebruiken, zoals [Verwerking van opgevangen groepen](#capturing-group-processing) en [Uitgesloten URL-patronen](#excluded-url-patterns), aangezien deze nog niet worden ondersteund door de DNR API.
    *   ⚠️ In Safari kunt u momenteel geen pipes (`|`) opnemen in uw reguliere expressiepatroon. [Details](https://github.com/mshibanami/redirect-web/issues/44)
    *   ⚠️ Aangezien de DNR API van Safari nog enkele problemen kent, beschouwen we dit nog steeds als een experimentele functie voor Safari. U kunt de lijst met alle bekende problemen [hier](https://github.com/mshibanami/redirect-web/issues?q=state%3Aopen%20label%3ADNR%20label%3ASafari) vinden.

### Omleiden van {#redirect-from}

De optie **Omleiden van** stelt u in staat om een URL-patroon te specificeren van webpagina's waarvan u wilt omleiden. U kunt kiezen uit [Wildcard](#wildcard) of [Reguliere expressie](#regular-expression).

Als u bijvoorbeeld `https://example.com/*` met Wildcard specificeert, komt dit overeen met `https://example.com/` of `https://example.com/hello`.

> [!NOTE]
> In de optie Omleiden naar, kunt u de gehele overeenkomst refereren met `$0` of gedeeltelijke overeenkomsten met `$1`, `$2`, ... Controleer de details in [URL-patroon](#url-pattern) op deze pagina.

#### Brontypen {#resource-types}

![Supported Types: DNR](https://img.shields.io/badge/Types-DNR-blue)

De optie **Brontypen** laat u de categorieën van webverzoeken specificeren, zoals afbeeldingen, JavaScripts en stylesheets, waarop de regel van toepassing is.
Als u bijvoorbeeld `script` instelt, kunt u de JavaScript-bestanden die door webpagina's worden geladen, omleiden.

Momenteel zijn deze beschikbaar:
`main_frame`, `sub_frame`, `stylesheet`, `script`, `image`, `font`, `xmlhttprequest`, `ping`, `media`, `websocket`, `other`

De standaardinstelling is `main_frame`, wat de top-level pagina is die in een tabblad wordt geladen.

Controleer de details van elk brontype in [mdn web docs](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest/ResourceType).

#### Verzoekmethoden {#request-methods}

![Supported Types: DNR](https://img.shields.io/badge/Types-DNR-blue)

De optie **Verzoekmethoden** laat u de doel-HTTP-methoden van de bron-URL instellen.

Alle methoden zijn standaard ingesteld.

Controleer de details van elke methode in [mdn web docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods).

> [!WARNING]
> In Safari is deze optie mogelijk niet beschikbaar omdat de implementatie van Apple voor het DNR-type deze momenteel niet lijkt te ondersteunen. We hebben feedback naar Apple gestuurd als FB14502272.

#### Doelbrowsers {#target-browsers}

![Supported Platforms: macOS](https://img.shields.io/badge/Platforms-macOS-white)

De optie **Doelbrowsers** stelt u in staat om te specificeren op welke browsers de regel wel of niet moet worden toegepast.

*   Er zijn 2 soorten browsers die u kunt kiezen:
    *   **Browsers die u standaard kunt kiezen**: U kunt standaard Safari, Chrome, Firefox, Edge, Opera, Arc, Brave en Vivaldi kiezen. Dit maakt geen onderscheid tussen varianten van dezelfde browser, zoals Safari en Safari Technology Preview.
    *   **Door de gebruiker gespecificeerde browsers**: Door op de knop Toevoegen in de popover te tikken, kunt u elke browser selecteren (behalve Safari of Safari Technology Preview) die de Redirect Web-extensie heeft geïnstalleerd.
*   Het selectievakje **Alle behalve geselecteerde** stelt u in staat om alle browsers te targeten behalve de browsers die u hebt gekozen.

> [!WARNING]
> Redirect Web kan geen onderscheid maken tussen **Safari** en **Safari Technology Preview**, omdat de app het bovenliggende proces van de extensie controleert om deze te detecteren, maar deze twee browsers delen hetzelfde bovenliggende proces (`/sbin/launchd`).

### Omleiden naar {#redirect-to}

De optie **Omleiden naar** specificeert een bestemmings-URL waar u naartoe wilt omleiden, vanaf de bron-URL die overeenkomt met de optie *Omleiden van*. U kunt ook opgevangen groepen substitueren met `$1`, `$2`, ... of de gehele overeenkomst met `$0`. Deze helpen u de bestemming dynamisch te specificeren. Controleer de details in [URL-patroon](#url-pattern) op deze pagina.

Als u bijvoorbeeld de volgende regel instelt:

*   **Omleiden van**: `https://google.com/*` (Wildcard)
*   **Omleiden naar**: `https://apple.com/$1`

en dit komt overeen met `https://google.com/hello`, dan zal de bestemmings-URL `https://apple.com/hello` zijn.

Bovendien kunt u de teksten van `$1`, `$2`, ... wijzigen voordat u substituties maakt. Controleer de sectie [Verwerking van opgevangen groepen](#capturing-group-processing) voor de details.

> [!TIP]
> U kunt een aangepast URL-schema specificeren om een app te openen. Dit zijn voorbeelden van apps die deep linking ondersteunen:
>
> *   Figma: `figma://file/Your_Figma_ID`
> *   Firefox: `firefox://open-url?url=https://example.com/hello`
> *   Google Chrome: `googlechromes://example.com`
> *   Microsoft Edge: `microsoft-edge://example.com`
> *   Notion: `notion://www.notion.so/Your_Note_ID`
> *   Slack: `slack://open`

#### Applicatie {#application}

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue) ![Supported Platforms: macOS](https://img.shields.io/badge/Platforms-macOS-white)

Als u een app wilt specificeren die u de bestemmings-URL wilt laten openen, gebruikt u de keuzelijst **Applicatie**. Dit is alleen beschikbaar op macOS.

> [!WARNING]
> U kunt alleen een app openen die [App Sandbox](https://developer.apple.com/documentation/security/app_sandbox) ondersteunt. Zorg er ook voor dat de app het openen van de gewenste URL ondersteunt.

### Verwerking van opgevangen groepen {#capturing-group-processing}

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue)

De optie **Verwerking van opgevangen groepen** stelt u in staat te specificeren hoe de opgevangen groepen moeten worden verwerkt die u kunt substitueren in de optie *Omleiden naar* met `$1`, `$2`...

Dit zijn manieren om opgevangen groepen te maken:

*   **Wildcard**: Teksten die overeenkomen met `*` en `?` worden automatisch opgevangen.
*   **Reguliere expressie**: Teksten die overeenkomen met een deel van het patroon binnen `()` worden opgevangen.

U kunt een of meer van de volgende processen kiezen:

*   **URL Coderen/Decoderen**: Dit past [percent-encoding](https://en.wikipedia.org/wiki/Percent-encoding) of decodering toe op een opgevangen groep. Als u bijvoorbeeld `https://example.com/hello` codeert, wordt dit geconverteerd naar `https%3A%2F%2Fexample.com%2Fhello`. Decoderen werkt op de tegenovergestelde manier.
*   **Base64 Coderen/Decoderen**: Dit decodeert/codeert een tekst naar [Base64](https://en.wikipedia.org/wiki/Base64). U kunt bijvoorbeeld `hello` coderen naar `aGVsbG8=`, en het terug decoderen naar `hello`.
*   **Vervangt voorkomens**: Dit vervangt een of meer tekens in een groep, die overeenkomen met een **Doel**, door een **Vervanging**. Als de *Groep* bijvoorbeeld `hello` is en het *Doel* `l` en de *Vervanging* `y` is, wordt het gewijzigd in `heyyo`.

> [!NOTE]
> Dit is voor het verwerken van elke opgevangen groep en het heeft geen invloed op welke URL's worden uitgesloten door de [Uitgesloten URL-patronen](#excluded-url-patterns). Laten we bijvoorbeeld zeggen dat u deze regel hebt:
>
> *   **Omleiden van**: `https://example.com/(hello.*)`
> *   **Verwerking van opgevangen groepen**:
>     *   Groep: `$1`
>     *   Doel: `.*` (Reguliere expressie)
>     *   Vervanging: `hello`
> *   **Uitgesloten URL-patroon**: `https://example.com/hello`
>
> In dit geval zal `https://example.com/hello_world` niet worden uitgesloten, terwijl `https://example.com/hello` wel zal worden uitgesloten.

### Uitgesloten URL-patronen {#excluded-url-patterns}

![Supported Types: Original](https://img.shields.io/badge/Types-Original-blue)

De optie **Uitgesloten URL-patronen** stelt u in staat om de URL's te specificeren die niet worden omgeleid. Dit kan handig zijn om omleidingslussen te voorkomen of om bepaalde delen van een website uit te sluiten van omleidingen.

U kunt uitgesloten URL-patronen specificeren met behulp van reguliere expressies of Wildcard-patroontypen.

### Voorbeelden {#examples}

De optie **Voorbeelden** stelt u in staat om uw omleidingsregel te testen door voorbeeld-URL's op te geven. Door een voorbeeld-URL toe te voegen, kunt u controleren of de regel werkt zoals verwacht voordat u deze daadwerkelijk toepast.

### Opmerkingen {#comments}

De optie **Opmerkingen** stelt u in staat om aantekeningen of opmerkingen toe te voegen over uw omleidingsregel. Dit kan nuttig zijn om bij te houden waarom u een specifieke regel hebt gemaakt of om context te bieden aan anderen die uw regels mogelijk bekijken.

## URL-patroon {#url-pattern}

Er zijn 3 opties waarmee u een of meer URL-patronen kunt specificeren. *Omleiden van*, *Uitgesloten URL-patronen* en *Verwerking van opgevangen groepen*. Om deze te specificeren, kunt u kiezen uit **Wildcard** of **Reguliere expressie**.

### Wildcard {#url-pattern-wildcard}

**Wildcard** is een eenvoudiger patroontype waarmee u `*` (komt overeen met alles) en `?` (komt overeen met elk enkel teken) als wildcards kunt gebruiken. Hier zijn enkele voorbeelden:

*   Om overeen te komen met `https://example.com/hello`, kunt u `https://example.com/*` gebruiken. Dit komt overeen met elke string na `https://example.com/`.
*   Om overeen te komen met `https://example.com/search?q=hello`, kunt u `https://example.com/search?q=*` gebruiken. Dit komt overeen met elke waarde voor de `q`-parameter.
*   Om overeen te komen met elke URL die het woord `blog` bevat, kunt u `*blog*` gebruiken.

U kunt ook substitutie gebruiken in Wildcard, wat betekent dat u delen van de overeenkomende URL kunt refereren met `$1`, `$2`, enz. Als u bijvoorbeeld `https://example.com/*-world-*` gebruikt en de URL is `https://example.com/hello-world-goodbye`, dan zou `$1` "hello" zijn en `$2` "goodbye". `$0` is ook beschikbaar om de gehele overeenkomende URL te refereren.

> [!Note]
> Hoewel substitutie een functie is van reguliere expressies, kunt u het ook gebruiken voor Wildcard, omdat Redirect Web Wildcard intern converteert naar reguliere expressies.

### Reguliere expressie {#url-pattern-regular-expression}

**Reguliere expressie** (Regex) is een krachtig hulpmiddel voor het matchen van patronen in tekst, aangedreven door de reguliere expressie-engine van Apple, die [hier](https://developer.apple.com/documentation/foundation/nsregularexpression#1661042) wordt beschreven. Hiermee kunt u een specifiek patroon definiëren dat overeenkomt met een reeks strings. Hier zijn enkele voorbeelden.

-   Om overeen te komen met `https://example.com/hello`, kunt u `https://example.com/(.*)` gebruiken. Dit komt overeen met elke string na `https://example.com/` en slaat deze op in een opvangende groep.
-   Om overeen te komen met `https://example.com/search?q=hello`, kunt u `https://example.com/search\?q=(.*)` gebruiken. Dit komt overeen met de waarde van de `q`-parameter en slaat deze op in een opvangende groep.
-   Om overeen te komen met elke URL die het woord `blog` bevat, kunt u `.*blog.*` gebruiken.

U kunt de opgevangen groepen refereren in *Omleiden naar* of *Vervanging* met `$1`, `$2`, ... of `$0` om de gehele overeenkomst te refereren.

Meer informatie over de Regex-syntaxis is te vinden in bronnen zoals [RegExr](https://regexr.com/).